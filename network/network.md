### 简单讲解一下http2的多路复用
* 在 HTTP/1 中，每次请求都会建立一次 HTTP 连接，也就是我们常说的 3 次握手和 4 次挥手，这个过程在一次请求过程中占用了相当长的时间，即使开启了 Keep-Alive，解决了多次连接的问题，但是依然有两个效率上的问题，一是串行的文件传输，二是连接数过多导致的性能问题。  
* 在 HTTP/2 中，有两个非常重要的概念，分别是帧（frame）和流（stream）。帧代表着最小的数据单位，每个帧会标识出该帧属于哪个流，流也就是多个帧组成的数据流。
* 多路复用，就是在一个 TCP 连接中可以存在多条流。换句话说，也就是可以发送多个请求，对端可以通过帧中的标识知道属于哪个请求。通过这个技术，可以避免 HTTP 旧版本中的队头阻塞问题，极大的提高传输性能。

### 介绍 HTTPS 握手过程
* 客户端使用 https 的 url 访问 web 服务器，要求与服务器建立 ssl 连接；
* web 服务器收到客户端请求后，会将网站的证书（包含公钥）传送一份给客户端；
* 客户端收到网站证书后会检查证书的颁发机构以及过期时间，如果没有问题就随机产生一个秘钥；
* 客户端利用公钥将会话秘钥加密，并传送给服务端，服务端利用自己的私钥解密出会话秘钥；
* 之后服务器与客户端使用秘钥加密传输；

### HTTPS 握手过程中，客户端如何验证证书的合法性
* 首先浏览器读取证书中的证书所有者、有效期等信息进行校验，校验证书的网站域名是否与证书颁发的域名一致，校验证书是否在有效期内；
* 浏览器开始查找操作系统中已内置的受新人的证书发布机构 CA，与服务器发来的证书中的颁发者 CA 比对，用于校验证书是否为合法机构颁发；
* 如果找不到，浏览器就会报错，说明浏览器发来的证书是不可信任的；
* 如果找到，那么浏览器就会从操作系统中取出颁发者 CA 的公钥（多数浏览器开发商发布版本时，会实现在内部植入常用认证机关的公开密钥），然后对服务器发来的证书里面的签名进行解密；
* 浏览器使用相同的 hash 算法计算出服务器发来的证书的 hash 值，将这个计算的 hash 值与证书中签名做对比；
* 对比结果一致，则证明服务器发来的证书合法，没有被冒充；

### 介绍下如何实现 token 加密
**JWT 加密：**
* 需要一个 secret（随机数）；
* 后端利用 secret 和加密算法（如：HMAC-SHA256）对 payload（如账号密码）生成一个字符串（token），返回前端；
* 前端每次 request 在 header 中带上 token;
* 后端用同样的算法解密；

### 介绍下 HTTPS 中间人攻击
https 协议由 http + ssl 协议构成。
**中间人攻击过程如下：**
* 服务器向客户端发送公钥；
* 攻击者截获公钥，保留在自己手上；
* 然后攻击者自己生成一个【伪造的】公钥，发给客户端；
* 客户端收到伪造的公钥后，生成加密 hash（秘钥） 值发给服务器；
* 攻击者获得加密 hash 值，用自己的私钥解密获得真秘钥；
* 同时生成假的加密 hash 值，发给服务器；
* 服务器用私钥解密获得假秘钥；
* 服务器用假秘钥加密传输信息；
**防范方法：**
* 服务器在发送浏览器的公钥中加入 CA 证书，浏览器可以验证 CA 证书的有效性；（现有 HTTPS 很难被劫持，除非信任了劫持者的 CA 证书）。

### 说出几个你知道的 HTTP 状态码及其功能
* 100~199: 信息提示
* 200~299：成功
* 300~399：重定向
* 400~499：客户端错误
* 500~599：服务端错误
  - 200 成功
  - 204 无内容
  - 301 永久移动（回应 GET 响应时会自动将请求者转到新位置）
  - 304 未修改（协商缓存）
  - 400 Bad Request
  - 401 未授权
  - 403 服务器拒绝请求
  - 404 未找到
  - 409 请求发生冲突
  - 500 服务器内部错误
  - 502 错误网关
  - 503 服务不可用

### SSL 连接断开后如何恢复？
**Session ID**
每一次的会话都有一个编号，当对话中断后，下一次重新连接时，只要客户端给出这个编号，服务器如果有这个编号的记录，那么双方就可以继续使用以前的密钥，而不用重新生成一把。  
**Session Ticket**
session ticket 是服务器在上一次对话中发送给客户的，这个 ticket 是加密的，只有服务器可能够解密，里面包含了本次会话的信息，比如对话密钥和加密方法等。这样不管我们的请求是否转移到其他的服务器上，当服务器将 ticket 解密以后，就能够获取上次对话的信息，就不用重新生成对话秘钥了。

### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 
### 